<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartFlash - Interactive Learning System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        }
        
        header {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #ff6b6b;
            position: relative;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #ffd166;
            text-shadow: 0 0 10px rgba(255, 209, 102, 0.5);
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #a9d6e5;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            gap: 15px;
        }
        
        .mode-btn {
            padding: 8px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #4ecdc4;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }
        
        .mode-btn.active {
            background: rgba(255, 255, 255, 0.3);
            border-color: #06d6a0;
            box-shadow: 0 0 10px rgba(6, 214, 160, 0.5);
        }
        
        .progress-container {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #4ecdc4;
        }
        
        .progress-bar {
            flex-grow: 1;
            height: 12px;
            background: #333;
            border-radius: 10px;
            margin: 0 15px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #06d6a0, #4ecdc4);
            border-radius: 10px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            font-size: 0.9rem;
            color: #a9d6e5;
        }
        
        .stat-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .main-content {
            display: flex;
            min-height: 500px;
        }
        
        .sidebar {
            width: 250px;
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-right: 1px solid #4ecdc4;
        }
        
        .chapters h3 {
            margin-bottom: 15px;
            color: #ffd166;
            border-bottom: 1px solid #4ecdc4;
            padding-bottom: 10px;
        }
        
        .chapter-list {
            list-style: none;
        }
        
        .chapter-item {
            padding: 12px 15px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .chapter-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(5px);
        }
        
        .chapter-item.active {
            background: rgba(255, 255, 255, 0.2);
            border-left: 4px solid #06d6a0;
            font-weight: bold;
        }
        
        .card-area {
            flex-grow: 1;
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .card-container {
            perspective: 1000px;
            width: 100%;
            max-width: 600px;
            height: 350px;
            margin-bottom: 40px;
        }
        
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s;
            cursor: pointer;
        }
        
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            padding: 30px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .card-front {
            background: linear-gradient(135deg, #1d3557, #457b9d);
            justify-content: center;
            align-items: center;
        }
        
        .card-back {
            background: linear-gradient(135deg, #2a9d8f, #1d3557);
            transform: rotateY(180deg);
            overflow-y: auto;
        }
        
        .chapter-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.4);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #ffd166;
        }
        
        .card-text {
            font-size: 1.5rem;
            text-align: center;
            line-height: 1.6;
        }
        
        .card-back .card-text {
            text-align: left;
            font-size: 1.2rem;
        }
        
        .learning-mode {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        
        .learning-card {
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 600px;
            min-height: 300px;
            margin-bottom: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .learning-content {
            font-size: 1.3rem;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        .learning-chapter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.4);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #ffd166;
        }
        
        .voice-controls {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }
        
        .voice-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            background: linear-gradient(to right, #4cc9f0, #4361ee);
            color: white;
        }
        
        .voice-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .voice-btn:active {
            transform: translateY(0);
        }
        
        .voice-speed {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 15px;
            border-radius: 50px;
        }
        
        .voice-speed label {
            font-size: 0.9rem;
        }
        
        .voice-speed input {
            width: 150px;
        }
        
        .rating-buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .rating-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
        }
        
        .rating-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .rating-btn:active {
            transform: translateY(0);
        }
        
        .bad-btn {
            background: linear-gradient(to right, #e63946, #d00000);
            color: white;
        }
        
        .again-btn {
            background: linear-gradient(to right, #ff9e00, #ff6b00);
            color: white;
        }
        
        .good-btn {
            background: linear-gradient(to right, #4cc9f0, #4361ee);
            color: white;
        }
        
        .easy-btn {
            background: linear-gradient(to right, #06d6a0, #04a777);
            color: white;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .control-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #4ecdc4;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-top: 1px solid #4ecdc4;
            color: #a9d6e5;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #4ecdc4;
            }
            
            .card-container {
                height: 300px;
            }
            
            .rating-buttons, .voice-controls {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .rating-btn, .voice-btn {
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-brain"></i> SmartFlash</h1>
            <p class="subtitle">Interactive learning system with flashcards & voice training</p>
            <div class="mode-selector">
                <button class="mode-btn active" id="flashcard-mode-btn">
                    <i class="fas fa-clone"></i> Flashcard Mode
                </button>
                <button class="mode-btn" id="learning-mode-btn">
                    <i class="fas fa-graduation-cap"></i> Learning Mode
                </button>
            </div>
        </header>
        
        <div class="progress-container">
            <div class="stat-item">
                <i class="fas fa-clipboard-list"></i> Total Cards: <span id="total-cards">42</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <i class="fas fa-check-circle"></i> Reviewed: <span id="reviewed">0</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-redo"></i> Due: <span id="due">42</span>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="sidebar">
                <div class="chapters">
                    <h3><i class="fas fa-book"></i> Big Data Chapters</h3>
                    <ul class="chapter-list" id="chapter-list">
                        <li class="chapter-item active" data-chapter="1">Chapter 1: Introduction</li>
                        <li class="chapter-item" data-chapter="2">Chapter 2: Business Perspective</li>
                        <li class="chapter-item" data-chapter="3">Chapter 3: Prerequisites</li>
                        <li class="chapter-item" data-chapter="4">Chapter 4: Enterprise Data</li>
                    </ul>
                </div>
            </div>
            
            <div class="card-area">
                <!-- Flashcard Mode -->
                <div class="flashcard-mode">
                    <div class="card-container">
                        <div class="card" id="card">
                            <div class="card-face card-front">
                                <div class="card-text" id="card-front-text">What are the key traits that define Big Data?</div>
                            </div>
                            <div class="card-face card-back">
                                <div class="chapter-badge" id="chapter-badge">Chapter 1</div>
                                <div class="card-text" id="card-back-text">
                                    <strong>Big Data is defined by 5 key traits (the 5 Vs):</strong><br><br>
                                    • <u>Volume</u>: Scale of data<br>
                                    • <u>Velocity</u>: Speed of data in/out<br>
                                    • <u>Veracity</u>: Quality and trustworthiness<br>
                                    • <u>Variety</u>: Different forms of data<br>
                                    • <u>Value</u>: Worth of the data
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="rating-buttons">
                        <button class="rating-btn bad-btn" id="bad-btn">
                            <i class="fas fa-times"></i> Bad
                        </button>
                        <button class="rating-btn again-btn" id="again-btn">
                            <i class="fas fa-redo"></i> Try Again
                        </button>
                        <button class="rating-btn good-btn" id="good-btn">
                            <i class="fas fa-check"></i> Good
                        </button>
                        <button class="rating-btn easy-btn" id="easy-btn">
                            <i class="fas fa-star"></i> Easy
                        </button>
                    </div>
                </div>
                
                <!-- Learning Mode -->
                <div class="learning-mode" id="learning-mode">
                    <div class="learning-card">
                        <div class="learning-chapter">Chapter 1</div>
                        <div class="learning-content" id="learning-content">
                            Let's learn about Big Data. Big Data is characterized by five key traits known as the 5 Vs:
                            <br><br>
                            • Volume refers to the massive scale of data generated every second
                            <br>
                            • Velocity is the speed at which data is generated and processed
                            <br>
                            • Veracity represents the quality and trustworthiness of data
                            <br>
                            • Variety describes the different types and formats of data
                            <br>
                            • Value indicates the worth that can be derived from data
                        </div>
                        <div class="voice-controls">
                            <button class="voice-btn" id="play-btn">
                                <i class="fas fa-play"></i> Play Lesson
                            </button>
                            <button class="voice-btn" id="pause-btn">
                                <i class="fas fa-pause"></i> Pause
                            </button>
                            <button class="voice-btn" id="stop-btn">
                                <i class="fas fa-stop"></i> Stop
                            </button>
                        </div>
                        <div class="voice-speed">
                            <label for="speed-control">Speech Speed:</label>
                            <input type="range" id="speed-control" min="0.5" max="2" step="0.1" value="1">
                            <span id="speed-value">1.0x</span>
                        </div>
                    </div>
                    
                    <div class="controls">
                        <button class="control-btn" id="prev-lesson-btn">
                            <i class="fas fa-arrow-left"></i> Previous Lesson
                        </button>
                        <button class="control-btn" id="next-lesson-btn">
                            Next Lesson <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="control-btn" id="prev-btn">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="control-btn" id="next-btn">
                        Next <i class="fas fa-arrow-right"></i>
                    </button>
                    <button class="control-btn" id="reset-btn">
                        <i class="fas fa-sync"></i> Reset Progress
                    </button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>SmartFlash uses spaced repetition and voice training to help you remember information longer. No sign-up required!</p>
        </footer>
    </div>

    <script>
        // Flashcard data with chapters
        const flashcards = [
            {
                id: 1,
                chapter: "Chapter 1",
                question: "What are the key traits that define Big Data?",
                answer: "<strong>Big Data is defined by 5 key traits (the 5 Vs):</strong><br><br>• <u>Volume</u>: Scale of data<br>• <u>Velocity</u>: Speed of data in/out<br>• <u>Veracity</u>: Quality and trustworthiness<br>• <u>Variety</u>: Different forms of data<br>• <u>Value</u>: Worth of the data",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 2,
                chapter: "Chapter 1",
                question: "What's the difference between Data Analysis and Data Analytics?",
                answer: "<strong>Data Analysis:</strong> Examines data to find facts, patterns, relationships, insights, or trends. Goal is to support better decisions.<br><br><strong>Data Analytics:</strong> Management of the complete data lifecycle (cleansing, organizing, storing, analyzing, governing data).",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 3,
                chapter: "Chapter 1",
                question: "How do different types of organizations use data analytics?",
                answer: "• <u>Business</u>: Lower costs, strategic decisions<br>• <u>Scientific</u>: Find causes, improve predictions<br>• <u>Public Sector</u>: Enhance service quality, reduce costs",
                difficulty: "easy",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 4,
                chapter: "Chapter 1",
                question: "What are the four categories of analytics?",
                answer: "1. <u>Descriptive</u>: What happened? (Contextualizes past data)<br>2. <u>Diagnostic</u>: Why did it happen? (Drills into data sources)<br>3. <u>Predictive</u>: What might happen? (Models based on past data)<br>4. <u>Prescriptive</u>: What should we do? (Simulates actions with rules + data)",
                difficulty: "hard",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 5,
                chapter: "Chapter 1",
                question: "What are the different types of data?",
                answer: "1. <u>Structured</u>: Fits a schema (database tables, CSV)<br>2. <u>Unstructured</u>: No schema (videos, social media - 80% of enterprise data)<br>3. <u>Semi-Structured</u>: Partial schema (XML, JSON)<br>4. <u>Metadata</u>: Data about data (file attributes)",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 6,
                chapter: "Chapter 1",
                question: "What is Business Intelligence (BI) and why is it useful?",
                answer: "<strong>BI</strong>: Analyzes enterprise-wide data (often in warehouses)<br><br><strong>Useful because</strong>: Helps companies understand performance, fix problems, and make better decisions by examining daily work data.",
                difficulty: "easy",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 7,
                chapter: "Chapter 2",
                question: "What historical events prompted changes in business approaches?",
                answer: "Two market crashes:<br>1. 2000 Dot-com bubble<br>2. 2008 Global recession<br><br>Business responses: Cut costs, improve efficiency and effectiveness.",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 8,
                chapter: "Chapter 2",
                question: "What are the key ICT drivers enabling Big Data?",
                answer: "1. Data Analytics & Data Science<br>2. Digitization<br>3. Affordable Technology<br>4. Social Media<br>5. Hyper-connected devices<br>6. Cloud Computing",
                difficulty: "hard",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 9,
                chapter: "Chapter 3",
                question: "What are the prerequisites for implementing Big Data solutions?",
                answer: "1. Data management and governance frameworks<br>2. Skilled teams for implementation and analysis<br>3. Data quality assessment (poor data = poor results)",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 10,
                chapter: "Chapter 3",
                question: "What are the key challenges in Big Data implementation?",
                answer: "• Privacy concerns<br>• Security vulnerabilities<br>• Provenance tracking<br>• Limited real-time support<br>• Performance challenges<br>• Governance & methodology",
                difficulty: "hard",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 11,
                chapter: "Chapter 4",
                question: "What is OLTP and why is it important?",
                answer: "<strong>OLTP (Online Transaction Processing)</strong>:<br>• Real-time transaction processing<br>• Key source of structured data<br>• Important for analytics foundation",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            },
            {
                id: 12,
                chapter: "Chapter 4",
                question: "What is OLAP and why is it important?",
                answer: "<strong>OLAP (Online Analytical Processing)</strong>:<br>• System for complex data analysis queries<br>• Queries multidimensional databases<br>• Vital for diagnostic, predictive, and prescriptive analytics",
                difficulty: "medium",
                lastReviewed: null,
                nextReview: null
            }
        ];

        // Learning content for each chapter
        const learningContent = {
            "Chapter 1": `
                <h3>Chapter 1: Introduction to Big Data</h3>
                <p>Big Data refers to extremely large datasets that are too complex to be processed by traditional data processing applications.</p>
                
                <p>The five key characteristics of Big Data are known as the 5 Vs:</p>
                <ul>
                    <li><strong>Volume</strong>: The enormous scale of data being generated every second from various sources.</li>
                    <li><strong>Velocity</strong>: The speed at which data is generated and needs to be processed in real-time.</li>
                    <li><strong>Veracity</strong>: The quality and trustworthiness of data, which can vary greatly.</li>
                    <li><strong>Variety</strong>: The different types and formats of data (structured, unstructured, semi-structured).</li>
                    <li><strong>Value</strong>: The worth that can be derived from properly analyzed data.</li>
                </ul>
                
                <p>Data Analysis involves examining data to find patterns and insights, while Data Analytics encompasses the entire lifecycle of data management including cleansing, organizing, storing, and analyzing data.</p>
            `,
            "Chapter 2": `
                <h3>Chapter 2: Business Perspective</h3>
                <p>The business world's approach to data was transformed by two major economic events: the 2000 Dot-com bubble and the 2008 Global recession.</p>
                
                <p>These events forced businesses to focus on:</p>
                <ul>
                    <li>Cost reduction</li>
                    <li>Improved efficiency</li>
                    <li>Enhanced effectiveness</li>
                </ul>
                
                <p>Key ICT drivers enabling Big Data adoption include:</p>
                <ol>
                    <li>Advanced Data Analytics & Data Science capabilities</li>
                    <li>Digitization of physical processes and assets</li>
                    <li>Affordable storage and computing technology</li>
                    <li>Social media generating massive amounts of user data</li>
                    <li>Hyper-connected IoT devices</li>
                    <li>Cloud computing providing scalable resources</li>
                </ol>
            `,
            "Chapter 3": `
                <h3>Chapter 3: Prerequisites for Big Data</h3>
                <p>Implementing Big Data solutions requires careful preparation:</p>
                
                <p>Essential prerequisites include:</p>
                <ul>
                    <li>Robust data management and governance frameworks</li>
                    <li>Skilled teams capable of implementation and analysis</li>
                    <li>Data quality assessment processes</li>
                </ul>
                
                <p>Key challenges organizations face:</p>
                <ul>
                    <li><strong>Privacy</strong>: Ensuring compliance with regulations</li>
                    <li><strong>Security</strong>: Protecting data from vulnerabilities</li>
                    <li><strong>Provenance</strong>: Tracking data origin and processing</li>
                    <li><strong>Real-time Processing</strong>: Limitations of batch processing</li>
                    <li><strong>Performance</strong>: Handling large datasets efficiently</li>
                    <li><strong>Governance</strong>: Standardizing data usage and compliance</li>
                </ul>
            `,
            "Chapter 4": `
                <h3>Chapter 4: Enterprise Data Systems</h3>
                <p>Enterprise data ecosystems consist of two primary systems:</p>
                
                <h4>OLTP (Online Transaction Processing)</h4>
                <ul>
                    <li>Processes transaction-oriented data in real-time</li>
                    <li>Serves as the primary source of structured data</li>
                    <li>Forms the foundation for analytical systems</li>
                </ul>
                
                <h4>OLAP (Online Analytical Processing)</h4>
                <ul>
                    <li>Specialized in complex data analysis queries</li>
                    <li>Works with multidimensional databases</li>
                    <li>Essential for diagnostic, predictive, and prescriptive analytics</li>
                </ul>
                
                <p>These systems work together to provide:</p>
                <ul>
                    <li>Operational support through OLTP</li>
                    <li>Strategic insights through OLAP</li>
                    <li>A comprehensive view of organizational data</li>
                </ul>
            `
        };

        // Spaced repetition intervals in hours (for demo purposes)
        const intervals = {
            bad: 0.1,      // 6 minutes
            again: 0.5,    // 30 minutes
            good: 2,       // 2 hours
            easy: 24       // 24 hours
        };

        // Initialize variables
        let currentCardIndex = 0;
        let reviewedCount = 0;
        let dueCount = flashcards.length;
        let currentChapter = "Chapter 1";
        let currentMode = "flashcard";
        let speech = null;
        let speechRate = 1.0;

        // DOM Elements
        const card = document.getElementById('card');
        const cardFrontText = document.getElementById('card-front-text');
        const cardBackText = document.getElementById('card-back-text');
        const chapterBadge = document.getElementById('chapter-badge');
        const totalCardsEl = document.getElementById('total-cards');
        const reviewedEl = document.getElementById('reviewed');
        const dueEl = document.getElementById('due');
        const progressFill = document.getElementById('progress-fill');
        const chapterList = document.getElementById('chapter-list');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const resetBtn = document.getElementById('reset-btn');
        const flashcardModeBtn = document.getElementById('flashcard-mode-btn');
        const learningModeBtn = document.getElementById('learning-mode-btn');
        const learningModeSection = document.getElementById('learning-mode');
        const learningContentEl = document.getElementById('learning-content');
        const playBtn = document.getElementById('play-btn');
        const pauseBtn = document.getElementById('pause-btn');
        const stopBtn = document.getElementById('stop-btn');
        const speedControl = document.getElementById('speed-control');
        const speedValue = document.getElementById('speed-value');
        const prevLessonBtn = document.getElementById('prev-lesson-btn');
        const nextLessonBtn = document.getElementById('next-lesson-btn');

        // Initialize the app
        function initApp() {
            totalCardsEl.textContent = flashcards.length;
            updateProgress();
            loadChapterCards(currentChapter);
            updateChapterNavigation();
            loadLearningContent(currentChapter);
            
            // Set up event listeners
            card.addEventListener('click', flipCard);
            document.getElementById('bad-btn').addEventListener('click', () => rateCard('bad'));
            document.getElementById('again-btn').addEventListener('click', () => rateCard('again'));
            document.getElementById('good-btn').addEventListener('click', () => rateCard('good'));
            document.getElementById('easy-btn').addEventListener('click', () => rateCard('easy'));
            prevBtn.addEventListener('click', showPrevCard);
            nextBtn.addEventListener('click', showNextCard);
            resetBtn.addEventListener('click', resetProgress);
            
            flashcardModeBtn.addEventListener('click', () => switchMode('flashcard'));
            learningModeBtn.addEventListener('click', () => switchMode('learning'));
            
            playBtn.addEventListener('click', playLesson);
            pauseBtn.addEventListener('click', pauseSpeech);
            stopBtn.addEventListener('click', stopSpeech);
            speedControl.addEventListener('input', updateSpeechSpeed);
            
            prevLessonBtn.addEventListener('click', showPrevLesson);
            nextLessonBtn.addEventListener('click', showNextLesson);
            
            // Check for speech synthesis support
            if (!('speechSynthesis' in window)) {
                alert("Your browser doesn't support text-to-speech. Please use Chrome, Edge, or Safari.");
                learningModeBtn.disabled = true;
            }
        }

        // Switch between flashcard and learning modes
        function switchMode(mode) {
            currentMode = mode;
            
            if (mode === "flashcard") {
                flashcardModeBtn.classList.add('active');
                learningModeBtn.classList.remove('active');
                document.querySelector('.flashcard-mode').style.display = 'block';
                learningModeSection.style.display = 'none';
                stopSpeech(); // Stop any ongoing speech
            } else {
                flashcardModeBtn.classList.remove('active');
                learningModeBtn.classList.add('active');
                document.querySelector('.flashcard-mode').style.display = 'none';
                learningModeSection.style.display = 'flex';
                loadLearningContent(currentChapter);
            }
        }

        // Flip card function
        function flipCard() {
            card.classList.toggle('flipped');
        }

        // Load cards for a specific chapter
        function loadChapterCards(chapter) {
            currentChapter = chapter;
            currentCardIndex = 0;
            showCard();
            updateChapterNavigation();
        }

        // Show current card
        function showCard() {
            const chapterCards = flashcards.filter(card => card.chapter === currentChapter);
            if (chapterCards.length === 0) return;
            
            const cardData = chapterCards[currentCardIndex];
            cardFrontText.innerHTML = cardData.question;
            cardBackText.innerHTML = cardData.answer;
            chapterBadge.textContent = cardData.chapter;
            
            // Reset card flip state
            card.classList.remove('flipped');
        }

        // Load learning content for a chapter
        function loadLearningContent(chapter) {
            learningContentEl.innerHTML = learningContent[chapter] || "Content not available for this chapter.";
        }

        // Play lesson using text-to-speech
        function playLesson() {
            stopSpeech(); // Stop any ongoing speech
            
            const content = learningContentEl.textContent || learningContentEl.innerText;
            
            speech = new SpeechSynthesisUtterance(content);
            speech.rate = speechRate;
            speech.pitch = 1;
            speech.volume = 1;
            speech.lang = 'en-US';
            
            speechSynthesis.speak(speech);
        }

        // Pause speech
        function pauseSpeech() {
            if (speechSynthesis.speaking) {
                speechSynthesis.pause();
            }
        }

        // Stop speech
        function stopSpeech() {
            speechSynthesis.cancel();
        }

        // Update speech speed
        function updateSpeechSpeed() {
            speechRate = parseFloat(speedControl.value);
            speedValue.textContent = speechRate.toFixed(1) + "x";
            
            if (speechSynthesis.speaking) {
                stopSpeech();
                playLesson();
            }
        }

        // Show next lesson
        function showNextLesson() {
            const chapters = ["Chapter 1", "Chapter 2", "Chapter 3", "Chapter 4"];
            const currentIndex = chapters.indexOf(currentChapter);
            const nextIndex = (currentIndex + 1) % chapters.length;
            currentChapter = chapters[nextIndex];
            
            loadLearningContent(currentChapter);
            updateChapterNavigation();
            stopSpeech();
        }

        // Show previous lesson
        function showPrevLesson() {
            const chapters = ["Chapter 1", "Chapter 2", "Chapter 3", "Chapter 4"];
            const currentIndex = chapters.indexOf(currentChapter);
            const prevIndex = (currentIndex - 1 + chapters.length) % chapters.length;
            currentChapter = chapters[prevIndex];
            
            loadLearningContent(currentChapter);
            updateChapterNavigation();
            stopSpeech();
        }

        // Rate card based on difficulty
        function rateCard(rating) {
            const chapterCards = flashcards.filter(card => card.chapter === currentChapter);
            const cardData = chapterCards[currentCardIndex];
            
            // Update card stats based on rating
            cardData.lastReviewed = new Date();
            cardData.difficulty = rating;
            
            // Set next review time based on spaced repetition
            const now = new Date();
            cardData.nextReview = new Date(now.getTime() + intervals[rating] * 60 * 60 * 1000);
            
            // Update reviewed count
            reviewedCount++;
            updateProgress();
            
            // Move to next card
            setTimeout(() => {
                showNextCard();
            }, 500);
        }

        // Show next card
        function showNextCard() {
            const chapterCards = flashcards.filter(card => card.chapter === currentChapter);
            currentCardIndex = (currentCardIndex + 1) % chapterCards.length;
            showCard();
        }

        // Show previous card
        function showPrevCard() {
            const chapterCards = flashcards.filter(card => card.chapter === currentChapter);
            currentCardIndex = (currentCardIndex - 1 + chapterCards.length) % chapterCards.length;
            showCard();
        }

        // Update progress display
        function updateProgress() {
            reviewedEl.textContent = reviewedCount;
            dueEl.textContent = flashcards.length - reviewedCount;
            const progress = (reviewedCount / flashcards.length) * 100;
            progressFill.style.width = `${progress}%`;
        }

        // Update chapter navigation
        function updateChapterNavigation() {
            const chapterItems = chapterList.querySelectorAll('.chapter-item');
            chapterItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.chapter === currentChapter.split(' ')[1]) {
                    item.classList.add('active');
                }
                
                // Add click event
                item.addEventListener('click', () => {
                    currentChapter = `Chapter ${item.dataset.chapter}`;
                    if (currentMode === "flashcard") {
                        loadChapterCards(currentChapter);
                    } else {
                        loadLearningContent(currentChapter);
                    }
                });
            });
        }

        // Reset progress
        function resetProgress() {
            if (confirm("Are you sure you want to reset all progress?")) {
                flashcards.forEach(card => {
                    card.lastReviewed = null;
                    card.nextReview = null;
                    card.difficulty = "medium";
                });
                reviewedCount = 0;
                currentCardIndex = 0;
                updateProgress();
                showCard();
            }
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
